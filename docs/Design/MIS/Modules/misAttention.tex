\section{Attention Type Module (\mref{mAttention}):
AttentionT(U)}\label{attentionModule}

The Attention ADT is for defining attention  $\attentiontype$, an extensible
type containing the number of consecutive, discrete time steps
$\mathit{stepsAttended} : \mathbb{Z}$ that have elapsed while focusing on $x$.

The $\mathit{stepSize} : $ DeltaTimeT(U) state variable is for utility such
that users can dictate the ``size'' of each time step as a Delta Time
$\deltatimetype$. It is allowed to be zero to mimic spending no attention to
$x$.

\subsection{Uses}
\begin{itemize}[noitemsep, nosep]

    \item DeltaTimeT(U) (Section~\ref{timeModule})

\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Types}
\begin{itemize}

    \item AttentionT(U) = $\left\{ \, \mathit{stepsAttended} : \mathbb{Z}, \,
    \mathit{stepSize} : \text{DeltaTimeT(U)} \, \right\} $

\end{itemize}

\subsubsection{Exported Access Programs}

\begin{center}
    \renewcommand{\arraystretch}{1.2}
    \begin{tabular}{m{0.26\linewidth} m{0.18\linewidth} m{0.15\linewidth}
            m{0.31\linewidth}}
        \toprule
        \textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
        \midrule

        \rowcolor[gray]{0.9}new AttentionT(U) & $\mathbb{Z}$, DeltaTimeT(U) &
        AttentionT(U) & E-A\_NULL\_STEPSIZE, \newline W-A\_NEGATIVE\_STEPSIZE,
        W-A\_NEGATIVE\_ATTENTION \\

        CompareStepsAttended & AttentionT(U) & $\mathbb{Z}$ & -- \\

        \rowcolor[gray]{0.9}CompareStepSize & AttentionT(U) & $\mathbb{Z}$ & --
        \\

        GetTimeAttended & -- & DeltaTimeT(U) & -- \\

        \rowcolor[gray]{0.9}AbsoluteDifference & AttentionT(U) & AttentionT(U)
        & -- \\

        UpdateAttendStepSize & DeltaTimeT(U) & -- & E-A\_NULL\_STEPSIZE,
        \newline W-A\_NEGATIVE\_STEPSIZE \\

        \rowcolor[gray]{0.9}IncrementStepsAttended & -- & -- & -- \\

        DecrementStepsAttended & -- & -- & W-A\_NEGATIVE\_ATTENTION \\

        \rowcolor[gray]{0.9}UpdateStepsAttendedBy & $\mathbb{Z}$ & -- &
        W-A\_NEGATIVE\_ATTENTION \\

        ResetStepsAttendedToZero & -- & -- & -- \\

        \bottomrule
    \end{tabular}
\end{center}

\subsubsection{Assumptions}
\begin{itemize}
    \item The concrete type of U is the same as the concrete type of U in
    DeltaTimeT(U)
\end{itemize}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}

    \item $ \mathit{stepsAttended} : \mathbb{Z}$

    \item $ \mathit{stepSize} : $ DeltaTimeT(U)

\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent new AttentionT(U)($\mathit{stepsAttended}, \mathit{stepSize}$):
\begin{itemize}

    \item output: $out :=$ self

    \item transition: $ \mathit{stepsAttended}, \mathit{stepSize} :=
    \mathit{stepsAttended}, \mathit{stepSize} $

    \item \parbox[t]{\linewidth}{\vspace*{-1.2em}\begin{nospaceflalign*}
            \text{exception: } \mathit{exc := } \, ( \; \mathit{stepSize} =
            \emptyset &\Rightarrow \text{E-A\_NULL\_STEPSIZE} &\\
            \mathit{stepSize}.\text{IsNegative()} = \True &\Rightarrow
            \text{W-A\_NEGATIVE\_STEPSIZE} &\\
            | \; \mathit{stepsAttended} < 0 &\Rightarrow
            \text{W-A\_NEGATIVE\_ATTENTION} \; )&
        \end{nospaceflalign*}
    }

\end{itemize}

\noindent CompareStepsAttended($\mathit{at}$):
\begin{itemize}

    \item \parbox[t]{\linewidth}{\vspace*{-1.2em}\begin{nospaceflalign*}
            \text{output: } \mathit{out := } \, ( \; | \, &C \, | \, \leq
            \epsilon \Rightarrow 0 \; | \; C > \epsilon \Rightarrow 1 \; | \;
            C < -\epsilon \Rightarrow -1 \; ) &\\
            \text{where } &C = \mathit{stepsAttended} -
            \mathit{at}.\text{GetStepsAttended()}
        \end{nospaceflalign*}
    }

    \item exception: None

\end{itemize}

\noindent CompareStepSize($\mathit{at}$):
\begin{itemize}

    \item \parbox[t]{\linewidth}{\vspace*{-1.2em}\begin{nospaceflalign*}
            \text{output: } \mathit{out := } \, ( \;
            \mathit{stepSize}.\text{CompareTo}(\mathit{at}
            .\text{GetAttendStepSize}()) > 0 &\Rightarrow 1 &\\
            | \; \mathit{stepSize}.\text{CompareTo}(\mathit{at}
            .\text{GetAttendStepSize}()) = 0 &\Rightarrow 0 &\\
            | \; \mathit{stepSize}.\text{CompareTo}(\mathit{at}
            .\text{GetAttendStepSize}()) < 0 &\Rightarrow -1 \; )
        \end{nospaceflalign*}
    }

    \# CompareTo defined in DeltaTimeT(U)

    \item exception: None

\end{itemize}

\noindent GetTimeAttended():
\begin{itemize}

    \item output: $out :=
    \mathit{stepSize}.\text{MultiplyByValue}(\mathit{stepsAttended}) $

    \# MultiplyByValue defined in DeltaTimeT(U)

    \item exception: None

\end{itemize}

\noindent AbsoluteDifference($\mathit{at}$):
\begin{itemize}

    \item \parbox[t]{\linewidth}{\vspace*{-1.2em}\begin{nospaceflalign*}
            \text{output: } \mathit{out := } \, &\text{new AttentionT}(1,
            \mathit{diff}) &\\
            &\text{where } \mathit{diff} = | \,
            \text{GetTimeAttended()}.\text{Difference}
            (\mathit{at}.\text{GetTimeAttended()}) \, |
        \end{nospaceflalign*}
    }

    \# Difference defined in DeltaTimeT(U)

    \item exception: None

\end{itemize}

\noindent UpdateAttendStepSize($\mathit{stepSize}$):
\begin{itemize}

    \item transition: $\mathit{stepSize} := \mathit{stepSize} $

    \item \parbox[t]{\linewidth}{\vspace*{-1.2em}\begin{nospaceflalign*}
            \text{exception: } \mathit{exc := } \, ( \; \mathit{stepSize} =
            \emptyset &\Rightarrow \text{E-A\_NULL\_STEPSIZE} &\\
            \mathit{stepSize}.\text{IsNegative()} = \True &\Rightarrow
            \text{W-A\_NEGATIVE\_STEPSIZE} \; )&
        \end{nospaceflalign*}
    }

\end{itemize}

\clearpage\noindent IncrementStepsAttended():
\begin{itemize}

    \item transition: $\mathit{stepsAttended} := \mathit{stepsAttended} + 1 $

    \item exception: None

\end{itemize}

\noindent DecrementStepsAttended():
\begin{itemize}

    \item transition: $\mathit{stepsAttended} := \mathit{stepsAttended} - 1 $

    \item exception: $exc := ( \mathit{stepsAttended} - 1 < 0 \Rightarrow
    \text{W-A\_NEGATIVE\_ATTENTION} )$

\end{itemize}

\noindent UpdateStepsAttendedBy($\mathit{steps}$):
\begin{itemize}

    \item transition: $\mathit{stepsAttended} := \mathit{stepsAttended} +
    \mathit{steps} $

    \item exception: $exc := ( \mathit{stepsAttended} + \mathit{steps} < 0
    \Rightarrow \text{W-A\_NEGATIVE\_ATTENTION} )$

\end{itemize}

\noindent ResetStepsAttendedToZero():
\begin{itemize}

    \item transition: $\mathit{stepsAttended} := 0 $

    \item exception: None

\end{itemize}